const initCustomEvents=()=>{initFormButtons()},initFormButtons=()=>{let e=document.querySelectorAll(".btn_options"),t=document.querySelector(".main_comments"),n=document.querySelector(".header_block h1"),a=document.querySelectorAll(".header_block h2")[0],s=document.querySelector(".header_block h3"),d=document.querySelectorAll(".header_block h2")[1],o=document.getElementsByClassName("main_tips")[0],r=document.querySelectorAll(".main_btn"),c=document.querySelectorAll(".selection_btn"),l=document.getElementsByTagName("header")[0],i=document.querySelector(".main_form"),m=document.getElementsByTagName("main")[0],u=document.querySelectorAll(".form_date span"),h=document.querySelectorAll(".showAllText"),L=document.querySelectorAll(".showPartText");function _(e){e.target.classList.contains("main_btn")?f():v()}u.forEach((e=>{e.addEventListener("click",(()=>{}))})),h.forEach((e=>{e.addEventListener("click",(()=>{let e=event.target.parentElement;e.classList.add("hidden"),e.nextElementSibling.classList.remove("hidden")}))})),L.forEach((e=>{e.addEventListener("click",(()=>{let e=event.target.parentElement;e.classList.add("hidden"),e.previousElementSibling.classList.remove("hidden")}))})),e.forEach((e=>{e.addEventListener("click",_)}));const f=()=>{m.classList.add("main_block"),n.classList.add("hidden"),l.classList.add("header_block"),t.classList.add("hidden"),a.classList.remove("hidden"),o.classList.remove("hidden"),g(c),y(r)},v=()=>{a.classList.add("hidden"),s.classList.remove("hidden"),d.classList.remove("hidden"),i.classList.remove("hidden"),o.classList.add("hidden"),y(c),S(),initValidationForm()},g=e=>{e.forEach((e=>{e.classList.remove("hide"),e.classList.remove("hidden")}))},y=e=>{e.forEach((e=>{e.classList.add("hide"),setTimeout((()=>{e.classList.add("hidden")}),200)}))},S=()=>{let e=document.querySelector("#year"),t=1950;for(;t<=+(new Date).getFullYear();){let n=document.createElement("option");n.value=t,n.label=t,n.innerHTML=t,e.appendChild(n),t++}}},initValidationForm=()=>{let e=document.querySelectorAll(" form input"),t=document.querySelectorAll(" form select"),n=document.querySelector("form "),a=document.querySelector("#accord"),s=null;function d(e){switch(e.target.id){case"accord":break;case"name":o(e.target);break;case"passw":r(e.target);break;case"email":c(e.target);break;case"day":i(e.target);break;case"month":l(e.target);break;case"year":m(e.target)}}n.addEventListener("submit",(()=>{let e=document.querySelectorAll(".done").length;a.checked&&6===e||event.preventDefault()})),e.forEach((e=>{e.addEventListener("change",d),e.addEventListener("focus",f),e.addEventListener("blur",v)})),t.forEach((e=>{e.addEventListener("change",d)}));const o=e=>{let t=e.value;t?t.length<3||t.length>13||/\d/.test(t)?(u(e,".form_name"),L()):(h(e,".form_name"),L("done")):_(e,".form_name","name")},r=e=>{let t=e.value;t?t.length<8||t.length>25?u(e,".form_passw"):h(e,".form_passw"):_(e,".form_passw")},c=e=>{let t=e.value;t?t.search("@")<0?u(e,".form_email_status"):h(e,".form_email_status"):_(e,".form_email_status")},l=e=>{let t=e.value,n=document.querySelector("#day").value;n&&new Date(2021,Math.trunc(t),Math.trunc(n),0,0,0,0).getMonth()!==Math.trunc(t)?u(e,".form_date_status"):h(e,".form_date_status")},i=e=>{let t=e.value,n=document.querySelector("#month").value;n&&new Date(2021,n,Math.trunc(t),0,0,0,0).getDay()!==Math.trunc(t)?u(e,".form_date_status"):h(e,".form_date_status")},m=e=>{let t=e.value;+(new Date).getFullYear()-18<t?u(e,".form_date_year"):h(e,".form_date_year")},u=(e,t="")=>{if(""!==t){document.querySelector(t).classList.remove("hidden")}e.classList.contains("wrong")||(e.classList.add("wrong"),e.classList.remove("done"))},h=(e,t)=>{if(""!==t){document.querySelector(t).classList.add("hidden")}e.classList.contains("done")||(e.classList.add("done"),e.classList.remove("wrong"))},L=(e="wrong")=>{let t=document.querySelector(".form_wrong_icon"),n=document.querySelector(".form_done_icon");"wrong"===e&&t.classList.contains("hidden")?(t.classList.remove("hidden"),n.classList.contains("hidden")||n.classList.add("hidden")):"wrong"!==e&&n.classList.contains("hidden")&&(n.classList.remove("hidden"),t.classList.contains("hidden")||t.classList.add("hidden"))},_=(e,t,n="")=>{e.classList.remove("wrong"),e.classList.remove("done"),document.querySelector(t).classList.add("hidden"),"name"===n&&(()=>{let e=document.querySelector(".form_wrong_icon"),t=document.querySelector(".form_done_icon");e.classList.contains("hidden")?t.classList.contains("hidden")||t.classList.add("hidden"):e.classList.add("hidden")})()};function f(e){"name"===e.target.id&&(s=setInterval((()=>{o(e.target)}),700))}function v(e){"name"===e.target.id&&clearInterval(s)}};window.onload=function(){initFormButtons()};