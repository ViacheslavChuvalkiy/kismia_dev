const initCustomEvents=()=>{initFormButtons()},initFormButtons=()=>{let e=document.querySelectorAll(".btn_options"),t=document.querySelector(".main_comments"),a=document.querySelector(".header_block h1"),n=document.querySelectorAll(".header_block h2")[0],s=document.querySelector(".header_block h3"),o=document.querySelectorAll(".header_block h2")[1],d=document.getElementsByClassName("main_tips")[0],r=document.querySelectorAll(".main_btn"),c=document.querySelectorAll(".selection_btn"),l=document.getElementsByTagName("header")[0],i=document.querySelector(".main_form"),m=document.getElementsByTagName("main")[0];function u(e){e.target.classList.contains("main_btn")?h():L()}document.querySelectorAll(".form_date span").forEach((e=>{e.addEventListener("click",(()=>{}),!0)})),e.forEach((e=>{e.addEventListener("click",u)}));const h=()=>{m.classList.add("main_block"),a.classList.add("hidden"),l.classList.add("header_block"),t.classList.add("hidden"),n.classList.remove("hidden"),d.classList.remove("hidden"),_(c),f(r)},L=()=>{n.classList.add("hidden"),s.classList.remove("hidden"),o.classList.remove("hidden"),i.classList.remove("hidden"),d.classList.add("hidden"),f(c),g(),initValidationForm()},_=e=>{e.forEach((e=>{e.classList.remove("hide"),e.classList.remove("hidden")}))},f=e=>{e.forEach((e=>{e.classList.add("hide"),setTimeout((()=>{e.classList.add("hidden")}),200)}))},g=()=>{let e=document.querySelector("#year"),t=1950;for(;t<=+(new Date).getFullYear();){let a=document.createElement("option");a.value=t,a.label=t,e.appendChild(a),t++}}},initValidationForm=()=>{let e=document.querySelectorAll(" form input"),t=document.querySelectorAll(" form select"),a=document.querySelector("form "),n=document.querySelector("#accord"),s=null;function o(e){switch(e.target.id){case"accord":break;case"name":d(e.target);break;case"passw":r(e.target);break;case"email":c(e.target);break;case"day":i(e.target);break;case"month":l(e.target);break;case"year":m(e.target)}}a.addEventListener("submit",(()=>{let e=document.querySelectorAll(".done").length;n.checked&&6===e||event.preventDefault()})),e.forEach((e=>{e.addEventListener("change",o),e.addEventListener("focus",f),e.addEventListener("blur",g)})),t.forEach((e=>{e.addEventListener("change",o)}));const d=e=>{let t=e.value;t?t.length<3||t.length>13||/\d/.test(t)?(u(e,".form_name"),L()):(h(e,".form_name"),L("done")):_(e,".form_name","name")},r=e=>{let t=e.value;t?t.length<8||t.length>25?u(e,".form_passw"):h(e,".form_passw"):_(e,".form_passw")},c=e=>{let t=e.value;t?t.search("@")<0?u(e,".form_email_status"):h(e,".form_email_status"):_(e,".form_email_status")},l=e=>{let t=e.value,a=document.querySelector("#day").value;a&&new Date(2021,Math.trunc(t),Math.trunc(a),0,0,0,0).getMonth()!==Math.trunc(t)?u(e,".form_date_status"):h(e,".form_date_status")},i=e=>{let t=e.value,a=document.querySelector("#month").value;a&&new Date(2021,a,Math.trunc(t),0,0,0,0).getDay()!==Math.trunc(t)?u(e,".form_date_status"):h(e,".form_date_status")},m=e=>{let t=e.value;+(new Date).getFullYear()-18<t?u(e,".form_date_year"):h(e,".form_date_year")},u=(e,t="")=>{if(""!==t){document.querySelector(t).classList.remove("hidden")}e.classList.contains("wrong")||(e.classList.add("wrong"),e.classList.remove("done"))},h=(e,t)=>{if(""!==t){document.querySelector(t).classList.add("hidden")}e.classList.contains("done")||(e.classList.add("done"),e.classList.remove("wrong"))},L=(e="wrong")=>{let t=document.querySelector(".form_wrong_icon"),a=document.querySelector(".form_done_icon");"wrong"===e&&t.classList.contains("hidden")?(t.classList.remove("hidden"),a.classList.contains("hidden")||a.classList.add("hidden")):"wrong"!==e&&a.classList.contains("hidden")&&(a.classList.remove("hidden"),t.classList.contains("hidden")||t.classList.add("hidden"))},_=(e,t,a="")=>{e.classList.remove("wrong"),e.classList.remove("done"),document.querySelector(t).classList.add("hidden"),"name"===a&&(()=>{let e=document.querySelector(".form_wrong_icon"),t=document.querySelector(".form_done_icon");e.classList.contains("hidden")?t.classList.contains("hidden")||t.classList.add("hidden"):e.classList.add("hidden")})()};function f(e){"name"===e.target.id&&(s=setInterval((()=>{d(e.target)}),700))}function g(e){"name"===e.target.id&&clearInterval(s)}};window.onload=function(){initFormButtons()};